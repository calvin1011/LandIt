<!DOCTYPE html>
<html lang="en">
<head>
    <title>Firebase Auth Test</title>
    <script type="module">
        import { login, signup, logout, onAuthChange } from "./auth.js";

        window.handleSignup = async function() {
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;
            await signup(email, password);
            alert("Signup successful!");
        }

        window.handleLogin = async function() {
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;
            await login(email, password);
            alert("Login successful!");
        }

        window.handleLogout = async function() {
            await logout();
            alert("User logged out!");
        }

        onAuthChange(user => {
            document.getElementById("status").innerText = user ? `Logged in as: ${user.email}` : "Not logged in";
        });
    </script>
</head>
<body>
<h2>Firebase Auth Test</h2>
<p id="status">Checking login status...</p>

<label for="email"></label><input type="email" id="email" placeholder="Email">
<label for="password"></label><input type="password" id="password" placeholder="Password">

<button onclick="handleSignup()">Signup</button>
<button onclick="handleLogin()">Login</button>
<button onclick="handleLogout()">Logout</button>
</body>
</html>
